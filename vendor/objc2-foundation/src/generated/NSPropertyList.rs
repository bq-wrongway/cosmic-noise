//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use objc2::__framework_prelude::*;

use crate::*;

// NS_OPTIONS
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord)]
pub struct NSPropertyListMutabilityOptions(pub NSUInteger);
bitflags::bitflags! {
    impl NSPropertyListMutabilityOptions: NSUInteger {
        const NSPropertyListImmutable = 0;
        const NSPropertyListMutableContainers = 1;
        const NSPropertyListMutableContainersAndLeaves = 2;
    }
}

unsafe impl Encode for NSPropertyListMutabilityOptions {
    const ENCODING: Encoding = NSUInteger::ENCODING;
}

unsafe impl RefEncode for NSPropertyListMutabilityOptions {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord)]
pub struct NSPropertyListFormat(pub NSUInteger);
impl NSPropertyListFormat {
    pub const NSPropertyListOpenStepFormat: Self = Self(1);
    pub const NSPropertyListXMLFormat_v1_0: Self = Self(100);
    pub const NSPropertyListBinaryFormat_v1_0: Self = Self(200);
}

unsafe impl Encode for NSPropertyListFormat {
    const ENCODING: Encoding = NSUInteger::ENCODING;
}

unsafe impl RefEncode for NSPropertyListFormat {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

pub type NSPropertyListReadOptions = NSPropertyListMutabilityOptions;

pub type NSPropertyListWriteOptions = NSUInteger;

extern_class!(
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct NSPropertyListSerialization;

    unsafe impl ClassType for NSPropertyListSerialization {
        type Super = NSObject;
        type Mutability = InteriorMutable;
    }
);

unsafe impl NSObjectProtocol for NSPropertyListSerialization {}

extern_methods!(
    unsafe impl NSPropertyListSerialization {
        #[method(propertyList:isValidForFormat:)]
        pub unsafe fn propertyList_isValidForFormat(
            plist: &AnyObject,
            format: NSPropertyListFormat,
        ) -> bool;

        #[cfg(all(feature = "NSData", feature = "NSError"))]
        #[method_id(@__retain_semantics Other dataWithPropertyList:format:options:error:_)]
        pub unsafe fn dataWithPropertyList_format_options_error(
            plist: &AnyObject,
            format: NSPropertyListFormat,
            opt: NSPropertyListWriteOptions,
        ) -> Result<Retained<NSData>, Retained<NSError>>;

        #[cfg(all(feature = "NSData", feature = "NSError"))]
        #[method_id(@__retain_semantics Other propertyListWithData:options:format:error:_)]
        pub unsafe fn propertyListWithData_options_format_error(
            data: &NSData,
            opt: NSPropertyListReadOptions,
            format: *mut NSPropertyListFormat,
        ) -> Result<Retained<AnyObject>, Retained<NSError>>;

        #[cfg(all(feature = "NSError", feature = "NSStream"))]
        #[method_id(@__retain_semantics Other propertyListWithStream:options:format:error:_)]
        pub unsafe fn propertyListWithStream_options_format_error(
            stream: &NSInputStream,
            opt: NSPropertyListReadOptions,
            format: *mut NSPropertyListFormat,
        ) -> Result<Retained<AnyObject>, Retained<NSError>>;
    }
);

extern_methods!(
    /// Methods declared on superclass `NSObject`
    unsafe impl NSPropertyListSerialization {
        #[method_id(@__retain_semantics Init init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[method_id(@__retain_semantics New new)]
        pub unsafe fn new() -> Retained<Self>;
    }
);
